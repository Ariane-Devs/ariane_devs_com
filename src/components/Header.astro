---
export const prerender = false;
import { handleEmail } from "../pages/api/sendEmail";


if (Astro.request.method === "POST") {
  try {
    const data = await Astro.request.formData();
    const email = data.get("email");
    handleEmail(email)
  } catch (error) {
    if (error instanceof Error) {
      console.error(error.message);
    }
  }
}
---

<div class="header">
  <div class="info">
    <h2 id="title">Impulsamos tu Transformación Digital</h2>
    <p id="description">
      En ArianeDevs somos tu socio experto en la creación de soluciones
      digitales robustas con las últimas tecnologías. Flutter, Angular, Python y
      más, desarrollados a la perfección para tu negocio.
    </p>
    <form id="email-contact" method="POST">
      <input name ="email" type="email" placeholder="Ingresa tu email" required/>
      <button type="submit">Hablemos</button>
    </form>
  </div>
  <div class="image">
    <img src="/images/header_back.webp" alt="Header Image" />
  </div>
</div>

<style>
  .header {
    display: grid;
    grid-template-columns: 1fr 1fr;
    padding: 5.25rem 7.563rem;
    gap: 4.5rem;
  }

  .image {
    display: flex;
    justify-content: center;
    align-items: center;
  }

  #title {
    font-size: 6rem;
    font-weight: bold;
    margin-bottom: 1.75rem;
    line-height: 98.5px;
  }

  #description {
    font-size: 1.25rem;
    color: #6c6c6c;
    margin-bottom: 2.75rem;
  }

  form {
    display: flex;
    gap: 1rem;
  }

  input {
    padding: 0.5rem 1rem;
    border: 0.1rem solid #e5e5e5;
    border-radius: 2.313rem;
    width: 15rem;
  }

  input::placeholder {
    color: #aaaaaa;
  }

  img {
    max-width: 100%;
    max-height: 100%;
    border-radius: 100%;
    box-shadow: 0 0 1rem 0 rgba(0, 0, 0, 0.1);
  }

  @media (max-width: 660px) {
    .header {
      flex-direction: column-reverse;
      gap: 2.5rem;
      padding: 2.5rem 1.5rem;
      order: -1;
    }

    #title {
      font-size: 2.9rem;
      line-height: 1.2;
    }

    #description {
      font-size: 1rem;
    }

    /* form {
      flex-direction: column;
      gap: 1rem;
    } */

    input {
      width: 100%;
    }
  }

  @media (max-width: 1024px) {
    .header {
      display: flex;
      flex-direction: column-reverse;
    }

    img {
      width: 60vw;
    }
  }

  @media (orientation: portrait) {
    .header {
      flex-direction: column-reverse;
      gap: 1rem;
      padding: 2.5rem 1.5rem;
      order: -1;
    }
  }
</style>
